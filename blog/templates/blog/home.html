{% extends "blog/basetemplate.html" %}
{% block content %}
    <h1>Blog home</h1>
    {% for post in posts %} 
        <article class="media content-section">
            <img class="rounded-circle article-img" src="{{ post.author.profile.image.url }}">
            <div class="media-body">
                <div class="article-metadata">
                    <a class="mr-2" href="#">
                        {{ post.author }}
                    </a>
                    <small class="text-muted">
                        <!-- https://docs.djangoproject.com/en/4.1/ref/templates/builtins/#date -->
                        {{ post.date_posted | date:"M j, o" }}
                    </small>
                </div>
                <h2>
                    <!-- Even though the PostDetailView uses "object" instead of "post" as the context_object_name,
                    home.html is being used by the home method defined in views.py and there
                    "posts" is defined as the key, and in the for loop in this file "post" is the name for each object.
                    Thus, we use "post.id" -->
                    <!-- Django is matching the url name in urls.py -->
                    <a class="article-title" href="{% url 'post-detail' post.id %}">
                        {{ post.title }}
                    </a>
                </h2>
                <p class="article-content">{{ post.content }}</p>
            </div>
        </article>   
    {% endfor %}
{% endblock content %}
